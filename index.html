<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Object Viewer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div id="viewer"></div>
        <div class="controls">
            <select id="model-select">
                <option value="">Select a model</option>
                <option value="models/BMW_Sketch.obj.obj">BMW Sketch</option>
                <!-- Model options will be added dynamically -->
            </select>
        </div>
    </div>

    <!-- Load Three.js and its modules -->
    <script>
        // Function to load a script and return a promise
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = () => reject(new Error(`Failed to load script: ${src}`));
                document.head.appendChild(script);
            });
        }

        // Load all required scripts in sequence
        async function loadAllScripts() {
            try {
                console.log('Loading Three.js...');
                await loadScript('https://unpkg.com/three@0.159.0/build/three.min.js');
                console.log('Three.js loaded successfully');

                console.log('Loading OrbitControls...');
                await loadScript('https://unpkg.com/three@0.159.0/examples/js/controls/OrbitControls.js');
                console.log('OrbitControls loaded successfully');

                console.log('Loading OBJLoader...');
                await loadScript('https://unpkg.com/three@0.159.0/examples/js/loaders/OBJLoader.js');
                console.log('OBJLoader loaded successfully');

                console.log('Loading MTLLoader...');
                await loadScript('https://unpkg.com/three@0.159.0/examples/js/loaders/MTLLoader.js');
                console.log('MTLLoader loaded successfully');

                console.log('Loading viewer script...');
                await loadScript('viewer.js');
                console.log('Viewer script loaded successfully');
            } catch (error) {
                console.error('Error loading scripts:', error);
            }
        }

        // Start loading scripts
        loadAllScripts();
    </script>
</body>
</html> 